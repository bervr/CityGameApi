<h1>Readme для тестового проекта
</h1>

<h2>Вводная часть</h2>
Это API игрового движка, для городских командных игр HighTechCross - это такой формат соревнований выходного дня, когда несколько команд бегают по городу и делают всякие технологичные задания.

На старте командам выдаются конверты с login/password. С их помошью они логинятся в приложении и видят задания.

Команда видит список всех заданий на основном экране, поле для ответа и кнопку отправить для каждого задания, а также может взять одну из трех подсказок к заданию.


Команды бегают по городу, решают задания. Решать задания можно в любой последовательности. Всего командам даются около 6-8 заданий.

За каждое сданное задание считается штрафное время, как время прошедшее с начала турнира до сдачи этого задания, плюс 15 минут штрафа за каждую взятую подсказку, плюс 30 минут штрафа за каждую неверную попытку сдачи. Штрафное время за несданные задания не учитывается.

Места распределяются по количеству сданных задач. Среди команд, с одинаковым количеством сданных задач по тому, у кого меньше штрафное время.

<h2>Установка</h2>
Проект на Django. Подразумевается что вы знаете как это установить и запустить, или у вас уже все установлено и запущено

Для сборки и запуска выполните:  
`docker-compose up`

Для заполнения тестовыми данными и создания тестовых пользователей выполните:  
`docker-compose run web python manage.py fill_db`

Создастся одна тестовая игра с 3 уровнями и 2 пользователя.  
Вход в админку:  
пользователь `django`  
пароль `12345`

Если не заполнять тестовыми данными при первом запуске нужно будет вручную создать учетную запись админа:</p>
`docker-compose run web python manage.py createsuperuser`

Xтобы остановить работу выполните
`docker-compose down`

<h2>Авторизация</h2>
Для доспупа в админку нужно зайти по 
https://your_url_here/admin и аутентифицироваться под учеткой имеющей права админа.

Для доступа к функциям API нужно авторизоваться с правами пользователя  
https://your_url_here/api-auth/login/

<h2>API</h2>

Ссылка  в API  https://your_url_here/api

`GET game/{int:game}/level/` - все уровни игры game  
`GET game/{int:game}/level/{int:id}` - уровень игры с заданым номером  
`GET game/{int:game}/level/{int:id}/promt/{int:num}`  - подсказка num, для уровня id, игры game  
`POST /answer/` - отправить ответ: 

```
content : {
    "game": id,     - id игры
    "level": id,    - id уровня   
    "answer": ""    - ответ
}
   ```

`GET /stat/` - статистика уровней




